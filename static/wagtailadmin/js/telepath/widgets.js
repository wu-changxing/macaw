(()=>{"use strict";var t,e={4870:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},u=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},l=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};e.__esModule=!0;var s=n(9408),c=function(){function t(t,e,n,r,i){var o=':input[name="'+e+'"]';this.input=t.find(o).addBack(o),this.idForLabel=n,this.setState(r),this.parentCapabilities=i||new Map}return t.prototype.getValue=function(){return this.input.val()},t.prototype.getState=function(){return this.input.val()},t.prototype.setState=function(t){this.input.val(t)},t.prototype.getTextLabel=function(t){var e=this.getValue();if("string"!=typeof e)return null;var n=t&&t.maxLength;return n&&e.length>n?e.substring(0,n-1)+"…":e},t.prototype.focus=function(){this.input.focus()},t.prototype.setCapabilityOptions=function(t,e){Object.assign(this.parentCapabilities.get(t),e)},t}(),p=function(){function t(t,e){this.boundWidgetClass=c,this.html=t,this.idPattern=e}return t.prototype.render=function(t,e,n,r,i){var o=this.html.replace(/__NAME__/g,e).replace(/__ID__/g,n),a=this.idPattern.replace(/__ID__/g,n),u=$(o);return $(t).replaceWith(u),new this.boundWidgetClass(u,e,a,r,i)},t}();window.telepath.register("wagtail.widgets.Widget",p);var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getValue=function(){return this.input.is(":checked")},e.prototype.getState=function(){return this.input.is(":checked")},e.prototype.setState=function(t){this.input.attr("checked",t||null)},e}(c),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boundWidgetClass=f,e}return i(e,t),e}(p);window.telepath.register("wagtail.widgets.CheckboxInput",h);var d=function(){function t(t,e,n,r){this.element=t,this.name=e,this.idForLabel=n,this.selector='input[name="'+e+'"]:checked',this.setState(r)}return t.prototype.getValue=function(){return this.element.find(this.selector).val()},t.prototype.getState=function(){return this.element.find(this.selector).val()},t.prototype.setState=function(t){this.element.find('input[name="'+this.name+'"]').val([t])},t.prototype.focus=function(){this.element.find('input[name="'+this.name+'"]').focus()},t}(),g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boundWidgetClass=d,e}return i(e,t),e}(p);window.telepath.register("wagtail.widgets.RadioSelect",g);var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getTextLabel=function(){return this.input.find(":selected").text()},e}(c),v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boundWidgetClass=y,e}return i(e,t),e}(p);window.telepath.register("wagtail.widgets.Select",v);var w=function(){function t(t,e,n){this.html=t,this.idPattern=e,this.config=n}return t.prototype.render=function(t,e,n,r){var i=this.html.replace(/__NAME__/g,e).replace(/__ID__/g,n),o=$(i);$(t).replaceWith(o);var a=new PageChooser(n,null,this.config);return a.setState(r),a},t}();window.telepath.register("wagtail.widgets.PageChooser",w);var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.render=function(e,n,r,i,o){var a=t.prototype.render.call(this,e,n,r,i,o);return window.autosize($("#"+r)),a},e}(p);window.telepath.register("wagtail.widgets.AdminAutoHeightTextInput",b);var m=function(){function t(t){this.options=t}return t.prototype.getCapabilityOptions=function(t,e){var n={},r=e,i=r.get("split"),o=r.get("addSibling"),l=[];return i&&(l=(o&&o.enabled&&i.enabled?o.blockGroups:[]).map((function(t){var e=a(t,2),n=e[0],r=e[1].map((function(t){var e=o.getBlockMax(t.name);return{icon:"#icon-".concat(t.meta.icon),description:t.meta.label,type:t.name,render:function(n){var r=n.option,i="number"==typeof e?" (".concat(o.getBlockCount(t.name),"/").concat(e,")"):"";return"".concat(r.description).concat(i)},onSelect:function(e){var n=e.editorState,r=window.draftail.splitState(window.draftail.DraftUtils.resetBlockWithType(n,"unstyled"));setTimeout((function(){r&&i.fn(r.stateBefore,r.stateAfter,r.shouldMoveCommentFn),o.fn({type:t.name})}),50)}}}));return{label:n||(0,s.gettext)("Blocks"),type:"streamfield-".concat(n),items:r}})),i.enabled&&l.push({label:"Actions",type:"custom-actions",items:[{icon:"#icon-cut",description:(0,s.gettext)("Split block"),type:"split",render:function(t){var e=t.option,n=(0,t.getEditorState)().getCurrentContent().getBlockMap();return"".concat(e.description," (will split ").concat(n.size," blocks)")},onSelect:function(t){var e=t.editorState,n=window.draftail.splitState(window.draftail.DraftUtils.resetBlockWithType(e,"unstyled"));setTimeout((function(){n&&i.fn(n.stateBefore,n.stateAfter,n.shouldMoveCommentFn)}),50)}}]})),n.commands=u([{label:(0,s.gettext)("Rich text"),type:"blockTypes"},{type:"entityTypes"}],a(l),!1),n},t.prototype.getFullOptions=function(t,e){return o(o({},t),this.getCapabilityOptions(t,e))},t.prototype.render=function(t,e,n,r,i){var o=this.options,u=new Map(i),s=document.createElement("input");s.type="hidden",s.id=n,s.name=e;var c=!!r.getCurrentContent;s.value=c?"null":r,t.appendChild(s);var p=this.getFullOptions.bind(this),f=a(draftail.initEditor("#"+n,p(o,i),document.currentScript),2)[1],h={getValue:function(){return s.value},getState:function(){return s.draftailEditor.getEditorState()},setState:function(t){s.draftailEditor.onChange(t)},getTextLabel:function(t){var e,n,r=t&&t.maxLength;if(!s.value)return"";var i=JSON.parse(s.value);if(!i||!i.blocks)return"";var o="";try{for(var a=l(i.blocks),u=a.next();!u.done;u=a.next()){var c=u.value;if(c.text&&(o+=o?" "+c.text:c.text,r&&o.length>r))return o.substring(0,r-1)+"…"}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return o},focus:function(){setTimeout((function(){s.draftailEditor.focus()}),50)},setCapabilityOptions:function(t,e){var n=Object.assign(u.get(t),e);u.set(t,n),f(p(o,u))}};return c&&h.setState(r),h},t}();window.telepath.register("wagtail.widgets.DraftailRichTextArea",m);var _=function(t){function e(t){return this.options=t,this}return i(e,t),e.prototype.render=function(t,e,n,r){var i=document.createElement("input");i.type="text",i.name=e,i.id=n,t.replaceWith(i),this.initChooserFn(n,this.options);var o={getValue:function(){return i.value},getState:function(){return i.value},setState:function(t){i.value=t},focus:function(t){t&&t.soft||i.focus()},idForLabel:n};return o.setState(r),o},e}(p),S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.initChooserFn=window.initDateChooser,e}return i(e,t),e}(_);window.telepath.register("wagtail.widgets.AdminDateInput",S);var C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.initChooserFn=window.initTimeChooser,e}return i(e,t),e}(_);window.telepath.register("wagtail.widgets.AdminTimeInput",C);var O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.initChooserFn=window.initDateTimeChooser,e}return i(e,t),e}(_);window.telepath.register("wagtail.widgets.AdminDateTimeInput",O);window.telepath.register("wagtail.errors.ValidationError",(function(t){this.messages=t}))}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var o=n[t]={exports:{}};return e[t].call(o.exports,o,o.exports,r),o.exports}r.m=e,t=[],r.O=(e,n,i,o)=>{if(!n){var a=1/0;for(c=0;c<t.length;c++){for(var[n,i,o]=t[c],u=!0,l=0;l<n.length;l++)(!1&o||a>=o)&&Object.keys(r.O).every((t=>r.O[t](n[l])))?n.splice(l--,1):(u=!1,o<a&&(a=o));if(u){t.splice(c--,1);var s=i();void 0!==s&&(e=s)}}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[n,i,o]},r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.j=47,(()=>{var t={47:0};r.O.j=e=>0===t[e];var e=(e,n)=>{var i,o,[a,u,l]=n,s=0;if(a.some((e=>0!==t[e]))){for(i in u)r.o(u,i)&&(r.m[i]=u[i]);if(l)var c=l(r)}for(e&&e(n);s<a.length;s++)o=a[s],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return r.O(c)},n=globalThis.webpackChunkwagtail=globalThis.webpackChunkwagtail||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var i=r.O(void 0,[751],(()=>r(4870)));i=r.O(i)})();